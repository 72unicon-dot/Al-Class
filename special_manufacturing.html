<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>김사부와 함께 AI 제조 전문가 | 5일 (40시간) 완성</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
        }

        .gradient-hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .tool-card {
            transition: all 0.3s ease;
        }

        .tool-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .day-card {
            transition: all 0.3s ease;
        }

        .day-card:hover {
            transform: scale(1.02);
        }

        .theory-tag {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        }

        .practice-tag {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
    </style>
</head>

<body class="bg-gray-50 relative">

    <!-- Top Left - Back to Studio Main -->
    <div class="absolute top-6 left-6 z-50">
        <a href="index.html"
            class="bg-white/20 backdrop-blur-md border border-white/30 text-white px-4 py-2 rounded-full text-sm font-semibold hover:bg-white/30 transition-all shadow-lg flex items-center gap-2">
            <i class="fas fa-arrow-left"></i> 전체 과정 보기
        </a>
    </div>

    <!-- Top Right Buttons -->
    <div class="absolute top-6 right-6 z-50 flex gap-3">
        <button id="noticeBtn"
            class="bg-white/20 backdrop-blur-md border border-white/30 text-white px-4 py-2 rounded-full text-sm font-semibold hover:bg-white/30 transition-all shadow-lg flex items-center gap-2">
            <i class="fas fa-bullhorn"></i> 공지사항
        </button>
        <a href="admin_login.html"
            class="bg-indigo-600/90 backdrop-blur-md border border-indigo-500/30 text-white px-4 py-2 rounded-full text-sm font-semibold hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2">
            <i class="fas fa-user-shield"></i> 관리자 모드
        </a>
    </div>

    <!-- Hero Section -->
    <section class="gradient-hero min-h-[60vh] flex items-center justify-center text-white relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
            <div class="absolute top-20 left-20 w-72 h-72 bg-white rounded-full blur-3xl"></div>
            <div class="absolute bottom-20 right-20 w-96 h-96 bg-white rounded-full blur-3xl"></div>
        </div>
        <div class="container mx-auto px-6 text-center relative z-10">
            <span
                class="inline-block px-4 py-2 bg-gray-600/80 rounded-full text-sm font-bold mb-4 backdrop-blur-sm border border-white/30">
                <i class="fas fa-industry mr-2"></i>특화 과정
            </span>
            <span class="inline-block px-4 py-2 bg-white/20 rounded-full text-sm font-medium mb-6 backdrop-blur-sm">
                <i class="fas fa-calendar-alt mr-2"></i>5일 (40시간) 완성 · 이론 + 실습 + 앱 개발
            </span>
            <h1 class="text-4xl md:text-6xl font-black mb-6 leading-tight">
                AI 제조 전문가
            </h1>
            <p class="text-xl md:text-2xl opacity-90 max-w-3xl mx-auto mb-8">
                제조 공정 이상 감지, 공정 최적화 및 스마트 팩토리 AI 사례<br><span class='text-base font-normal mt-2 block'>스마트 팩토리 데이터를 분석하여 공정 이상을 사전에 감지하고, 생산 효율성을 극대화하는 AI 솔루션을 학습합니다.</span>
            </p>
            <div class="flex flex-wrap justify-center gap-4 mb-8">
                <span class="px-4 py-2 bg-white/10 rounded-lg backdrop-blur-sm">
                    <i class="fas fa-book mr-2"></i>이론 학습
                </span>
                <span class="px-4 py-2 bg-white/10 rounded-lg backdrop-blur-sm">
                    <i class="fas fa-laptop-code mr-2"></i>실습 프로젝트
                </span>
                <span class="px-4 py-2 bg-white/10 rounded-lg backdrop-blur-sm">
                    <i class="fas fa-mobile-alt mr-2"></i>직무 앱 개발
                </span>
            </div>

            <!-- Hero Action Buttons -->
            <div class="flex flex-wrap justify-center gap-4">
                <button id="applyBtn" onclick="window.openLoginModal()"
                    class="px-8 py-3 bg-white text-indigo-600 rounded-full font-bold hover:bg-indigo-50 transition-colors shadow-lg shadow-indigo-500/30">
                    교육 신청
                </button>
                <a href="#curriculum"
                    class="px-8 py-3 bg-indigo-600/20 backdrop-blur-md border border-white/30 text-white rounded-full font-bold hover:bg-white/20 transition-all shadow-lg flex items-center gap-2">
                    <i class="fas fa-list-ul"></i> 커리큘럼 보기
                </a>
                <button id="courseIntroBtn" onclick="window.openCourseIntroPdf()"
                    class="hidden px-8 py-3 bg-red-600/20 backdrop-blur-md border border-white/30 text-white rounded-full font-bold hover:bg-white/20 transition-all shadow-lg flex items-center gap-2">
                    <i class="fas fa-file-pdf"></i> 과정 소개(PDF)
                </button>
                <button id="enterBtn" onclick="window.location.href='classroom.html'"
                    class="hidden px-8 py-3 bg-emerald-500 text-white border border-emerald-400 rounded-full font-bold hover:bg-emerald-600 transition-colors shadow-lg flex items-center gap-2 animate-pulse">
                    <i class="fas fa-chalkboard-teacher"></i> 강의실 입장
                </button>
                <button id="heroLogoutBtn" onclick="window.userLogout()"
                    class="hidden px-8 py-3 bg-slate-800/50 text-white border border-slate-600 rounded-full font-bold hover:bg-slate-800 transition-colors shadow-lg">
                    로그아웃
                </button>
            </div>
        </div>
    </section>

    <!-- 3 Key Strengths Section -->
    <section class="py-20 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white" id="strengths">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <span class="text-purple-300 font-semibold text-sm uppercase tracking-wider">Why This Course</span>
                <h2 class="text-3xl md:text-4xl font-bold mt-2">
                    본 과정만의 <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-400">3대
                        강점</span>
                </h2>
            </div>

            <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <!-- Strength 1: 설비 이상 사전 감지 -->
                <div class="relative group">
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-3xl blur-xl opacity-50 group-hover:opacity-75 transition">
                    </div>
                    <div class="relative bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 h-full">
                        <div
                            class="w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center mb-6">
                            <i class="fas fa-exclamation-triangle text-3xl text-white"></i>
                        </div>
                        <span class="text-blue-300 text-sm font-semibold">STRENGTH 01</span>
                        <h3 class="text-xl font-bold mt-2 mb-4">설비 이상 사전 감지</h3>
                        <div class="space-y-4 text-gray-300 text-sm">
                            <div class="bg-white/5 rounded-xl p-4">
                                <p class="font-semibold text-white mb-2"><i
                                        class="fas fa-star text-yellow-400 mr-2"></i>강점</p>
                                <p>진동, 소음 데이터를 AI가 학습하여 고장 징후를 <b class='text-blue-300'>사전에 포착하고 경고</b>하는 예지 보전 기술을 배웁니다.</p>
                            </div>
                            <div class="bg-white/5 rounded-xl p-4">
                                <p class="font-semibold text-white mb-2"><i
                                        class="fas fa-rocket text-emerald-400 mr-2"></i>기대효과</p>
                                <p>돌발 고장으로 인한 라인 중단을 막아, <b class='text-emerald-300'>설비 가동 효율(OEE)</b>을 극대화합니다.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Strength 2: AI 기반 품질 검사 -->
                <div class="relative group">
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-violet-600 to-purple-600 rounded-3xl blur-xl opacity-50 group-hover:opacity-75 transition">
                    </div>
                    <div class="relative bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 h-full">
                        <div
                            class="w-16 h-16 bg-gradient-to-br from-violet-500 to-purple-500 rounded-2xl flex items-center justify-center mb-6">
                            <i class="fas fa-search-plus text-3xl text-white"></i>
                        </div>
                        <span class="text-violet-300 text-sm font-semibold">STRENGTH 02</span>
                        <h3 class="text-xl font-bold mt-2 mb-4">AI 기반 품질 검사</h3>
                        <div class="space-y-4 text-gray-300 text-sm">
                            <div class="bg-white/5 rounded-xl p-4">
                                <p class="font-semibold text-white mb-2"><i
                                        class="fas fa-star text-yellow-400 mr-2"></i>강점</p>
                                <p>사람의 눈으로 놓치기 쉬운 미세한 불량을 <b class='text-purple-300'>컴퓨터 비전 AI</b>로 0.1초 만에 판별하는 시스템을 이해합니다.</p>
                            </div>
                            <div class="bg-white/5 rounded-xl p-4">
                                <p class="font-semibold text-white mb-2"><i
                                        class="fas fa-rocket text-emerald-400 mr-2"></i>기대효과</p>
                                <p>전수 검사 체계를 구축하여 고객에게 나가는 <b class='text-emerald-300'>불량 유출을 제로화(0%)</b> 합니다.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Strength 3: 스마트 팩토리 최적화 -->
                <div class="relative group">
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-amber-600 to-orange-600 rounded-3xl blur-xl opacity-50 group-hover:opacity-75 transition">
                    </div>
                    <div class="relative bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 h-full">
                        <div
                            class="w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl flex items-center justify-center mb-6">
                            <i class="fas fa-network-wired text-3xl text-white"></i>
                        </div>
                        <span class="text-amber-300 text-sm font-semibold">STRENGTH 03</span>
                        <h3 class="text-xl font-bold mt-2 mb-4">스마트 팩토리 최적화</h3>
                        <div class="space-y-4 text-gray-300 text-sm">
                            <div class="bg-white/5 rounded-xl p-4">
                                <p class="font-semibold text-white mb-2"><i
                                        class="fas fa-star text-yellow-400 mr-2"></i>강점</p>
                                <p>공정 데이터 분석을 통해 병목 구간을 찾고, 생산 계획을 최적화하는 <b class='text-orange-300'>데이터 기반 공장 운영</b> 노하우를 습득합니다.</p>
                            </div>
                            <div class="bg-white/5 rounded-xl p-4">
                                <p class="font-semibold text-white mb-2"><i
                                        class="fas fa-rocket text-emerald-400 mr-2"></i>기대효과</p>
                                <p>불필요한 대기 시간과 재고 비용을 줄여 <b class='text-emerald-300'>제조 원가를 획기적으로 절감</b>합니다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Top 10 AI Tools Section -->
    
    <!-- Detailed Curriculum Section -->
    <section id="curriculum" class="py-20 bg-gray-50">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <span class="text-purple-600 font-semibold text-sm uppercase tracking-wider">Curriculum</span>
                <h2 class="text-3xl md:text-4xl font-bold mt-2 text-gray-800">
                    상세 <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600">커리큘럼</span>
                </h2>
            </div>
            
            <div class="max-w-4xl mx-auto space-y-4">
                <!-- Module 1 -->
                <div class="bg-white rounded-2xl border border-gray-200 overflow-hidden hover:border-indigo-300 transition-colors shadow-sm">
                    <div class="p-6 md:p-8">
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-bold text-xl">
                                1
                            </div>
                            <div class="flex-grow">
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Day 1: 제조 데이터와 AI</h3>
                                <p class="text-gray-600 mb-4">스마트 팩토리 데이터 수집 및 전처리</p>
                                <div class="bg-gray-50 rounded-xl p-4">
                                    <ul class="space-y-2">
                                        <li class="flex items-start gap-2 text-sm text-gray-700">
                                            <i class="fas fa-check-circle text-indigo-500 mt-1"></i>
                                            <span>MES/ERP 데이터의 이해와 AI 적용 분야</span>
                                        </li>
                                        <li class="flex items-start gap-2 text-sm text-gray-700">
                                            <i class="fas fa-check-circle text-indigo-500 mt-1"></i>
                                            <span>시계열 데이터(센서, 진동) 전처리 실습</span>
                                        </li>
                                        <li class="flex items-start gap-2 text-sm text-gray-700">
                                            <i class="fas fa-check-circle text-indigo-500 mt-1"></i>
                                            <span>Python Pandas를 활용한 기초 데이터 분석</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Module 2 -->
                <div class="bg-white rounded-2xl border border-gray-200 overflow-hidden hover:border-indigo-300 transition-colors shadow-sm">
                    <div class="p-6 md:p-8">
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-bold text-xl">
                                2
                            </div>
                            <div class="flex-grow">
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Day 2-3: 예지 보전 모델링</h3>
                                <p class="text-gray-600 mb-4">설비 고장 예측을 위한 이상 탐지 모델 구현</p>
                                <div class="bg-gray-50 rounded-xl p-4">
                                    <ul class="space-y-2">
                                        <li class="flex items-start gap-2 text-sm text-gray-700">
                                            <i class="fas fa-check-circle text-indigo-500 mt-1"></i>
                                            <span>정상 vs 비정상 데이터 분류 (Classification)</span>
                                        </li>
                                        <li class="flex items-start gap-2 text-sm text-gray-700">
                                            <i class="fas fa-check-circle text-indigo-500 mt-1"></i>
                                            <span>오토인코더(Autoencoder)기반 이상 탐지</span>
                                        </li>
                                        <li class="flex items-start gap-2 text-sm text-gray-700">
                                            <i class="fas fa-check-circle text-indigo-500 mt-1"></i>
                                            <span>설비 잔여 수명(RUL) 예측 기초</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Module 3 -->
                <div class="bg-white rounded-2xl border border-gray-200 overflow-hidden hover:border-indigo-300 transition-colors shadow-sm">
                    <div class="p-6 md:p-8">
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-bold text-xl">
                                3
                            </div>
                            <div class="flex-grow">
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Day 4-5: 비전 검사 & 공정 최적화</h3>
                                <p class="text-gray-600 mb-4">이미지 기반 불량 검출 및 공정 파라미터 최적화</p>
                                <div class="bg-gray-50 rounded-xl p-4">
                                    <ul class="space-y-2">
                                        <li class="flex items-start gap-2 text-sm text-gray-700">
                                            <i class="fas fa-check-circle text-indigo-500 mt-1"></i>
                                            <span>YOLO 모델을 활용한 제품 결함 탐지 실습</span>
                                        </li>
                                        <li class="flex items-start gap-2 text-sm text-gray-700">
                                            <i class="fas fa-check-circle text-indigo-500 mt-1"></i>
                                            <span>공정 변수 최적화를 위한 강화학습 개요</span>
                                        </li>
                                        <li class="flex items-start gap-2 text-sm text-gray-700">
                                            <i class="fas fa-check-circle text-indigo-500 mt-1"></i>
                                            <span>현장 적용을 위한 AI 모델 배포 전략</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 bg-white" id="tools">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <span class="text-purple-600 font-semibold text-sm uppercase tracking-wider">Essential AI Tools</span>
                <h2 class="text-3xl md:text-4xl font-bold mt-2 text-gray-800">
                    8일간 마스터할 <span
                        class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600">10대 AI
                        도구</span>
                </h2>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <a href="#" class="tool-card bg-white rounded-2xl p-6 border-2 border-orange-500 shadow-lg text-center hover:shadow-xl hover:scale-105 transition-all cursor-pointer block">
                    <div class="w-14 h-14 bg-orange-100 rounded-xl flex items-center justify-center mb-4 mx-auto">
                        <i class="fas fa-project-diagram text-2xl text-orange-600"></i>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800 mb-1">TensorFlow</h3>
                    <p class="text-gray-500 text-xs">딥러닝 프레임워크</p>
                </a>
                <a href="#" class="tool-card bg-white rounded-2xl p-6 border-2 border-green-500 shadow-lg text-center hover:shadow-xl hover:scale-105 transition-all cursor-pointer block">
                    <div class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4 mx-auto">
                        <i class="fas fa-eye text-2xl text-green-600"></i>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800 mb-1">YOLO</h3>
                    <p class="text-gray-500 text-xs">객체 탐지</p>
                </a>
                <a href="#" class="tool-card bg-white rounded-2xl p-6 border-2 border-blue-500 shadow-lg text-center hover:shadow-xl hover:scale-105 transition-all cursor-pointer block">
                    <div class="w-14 h-14 bg-blue-100 rounded-xl flex items-center justify-center mb-4 mx-auto">
                        <i class="fas fa-chart-bar text-2xl text-blue-600"></i>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800 mb-1">Tableau</h3>
                    <p class="text-gray-500 text-xs">데이터 시각화</p>
                </a>
                <a href="#" class="tool-card bg-white rounded-2xl p-6 border-2 border-cyan-500 shadow-lg text-center hover:shadow-xl hover:scale-105 transition-all cursor-pointer block">
                    <div class="w-14 h-14 bg-cyan-100 rounded-xl flex items-center justify-center mb-4 mx-auto">
                        <i class="fas fa-cogs text-2xl text-cyan-600"></i>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800 mb-1">PowerAutomate</h3>
                    <p class="text-gray-500 text-xs">RPA</p>
                </a></div>
        </div>
    </section>

    <!-- Course Summary -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <div class="max-w-4xl mx-auto">
                
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
                    <div class="p-6">
                        <div class="text-4xl font-black text-purple-600 mb-2">5</div>
                        <div class="text-gray-600">일 과정</div>
                    </div>
                    <div class="p-6">
                        <div class="text-4xl font-black text-purple-600 mb-2">5</div>
                        <div class="text-gray-600">핵심 도구</div>
                    </div>
                    <div class="p-6">
                        <div class="text-4xl font-black text-purple-600 mb-2">3</div>
                        <div class="text-gray-600">실습/프로젝트</div>
                    </div>
                    <div class="p-6">
                        <div class="text-4xl font-black text-purple-600 mb-2">1</div>
                        <div class="text-gray-600">앱 배포</div>
                    </div>
                </div>
            </div>
                    <div class="p-6">
                        <div class="text-4xl font-black text-purple-600 mb-2">10</div>
                        <div class="text-gray-600">AI 도구</div>
                    </div>
                    <div class="p-6">
                        <div class="text-4xl font-black text-purple-600 mb-2">20+</div>
                        <div class="text-gray-600">실습 프로젝트</div>
                    </div>
                    <div class="p-6">
                        <div class="text-4xl font-black text-purple-600 mb-2">1개</div>
                        <div class="text-gray-600">앱 배포</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="gradient-hero py-12 text-white">
        <div class="container mx-auto px-6 text-center">
            <h3 class="text-2xl font-bold mb-4">AI 제조 전문가</h3>
            <p class="opacity-80 mb-6">8일 만에 AI 업무 혁신과 나만의 앱 개발을 시작하세요</p>
            <div class="flex justify-center gap-6 mb-8">
                <a href="#" class="hover:opacity-80 transition"><i class="fab fa-instagram text-2xl"></i></a>
                <a href="#" class="hover:opacity-80 transition"><i class="fab fa-youtube text-2xl"></i></a>
                <a href="#" class="hover:opacity-80 transition"><i class="fab fa-linkedin text-2xl"></i></a>
            </div>
            <p class="text-sm opacity-60">© 2026 AI 제조 전문가. All rights reserved.</p>
        </div>
    </footer>

    <!-- Notice Modal -->
    <div id="noticeModal" class="fixed inset-0 z-[100] hidden">
        <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" onclick="closeNoticeModal()"></div>
        <div
            class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white w-full max-w-lg rounded-2xl shadow-2xl p-6 transition-all transform scale-100 opacity-100">
            <div class="flex justify-between items-center mb-6 border-b border-gray-100 pb-4">
                <h3 class="text-xl font-bold text-gray-800"><i class="fas fa-bullhorn text-indigo-600 mr-2"></i>과정 공지사항
                </h3>
                <button onclick="closeNoticeModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>

            <div id="noticeList" class="space-y-4 max-h-[60vh] overflow-y-auto pr-2">
                <!-- Notices will be loaded here -->
                <div class="text-center py-8 text-gray-400">
                    <i class="fas fa-spinner fa-spin mb-2"></i>
                    <p>공지사항을 불러오는 중...</p>
                </div>
            </div>

            <div class="mt-6 text-center">
                <button onclick="closeNoticeModal()"
                    class="px-6 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 font-semibold transition-colors">닫기</button>
            </div>
        </div>
    </div>

    <!-- Script: Authentication & Dynamic UI -->
    <script type="module">
        import { db, auth } from './js/firebase-config.js';
        import { collection, getDocs, query, orderBy, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { onAuthStateChanged, signInWithEmailAndPassword, signOut, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // ==========================================
        // 1. UI Injection
        // ==========================================
        const injectUI = () => {
            // A. Inject Login Modal (Removed Hero Button Injection to prevent duplicates)
            if (!document.getElementById('userLoginModal')) {
                const modalHTML = `
                <div id="userLoginModal" class="fixed inset-0 z-[100] hidden">
                    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="window.closeLoginModal()"></div>
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white w-full max-w-sm rounded-2xl shadow-2xl p-8 transform transition-all">
                        <div class="text-center mb-6">
                            <div class="w-12 h-12 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-3 text-xl">
                                <i class="fas fa-user-graduate"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800">수강생 로그인</h3>
                            <p class="text-gray-500 text-sm mt-1">강의실 입장을 위해 로그인해주세요</p>
                        </div>
                        
                        <div class="space-y-4">
                            <button id="googleLoginBtn" type="button" class="w-full py-3 bg-white border border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-colors shadow-sm flex items-center justify-center gap-2">
                                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5">
                                구글 계정으로 로그인
                            </button>
                            
                            <div class="relative flex py-2 items-center">
                                <div class="flex-grow border-t border-gray-200"></div>
                                <span class="flex-shrink-0 mx-4 text-gray-400 text-xs">또는 이메일로 로그인</span>
                                <div class="flex-grow border-t border-gray-200"></div>
                            </div>

                            <form id="userLoginForm" class="space-y-4">
                                <div>
                                    <input type="email" id="userEmail" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none" placeholder="이메일" required>
                                </div>
                                <div>
                                    <input type="password" id="userPw" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none" placeholder="비밀번호" required>
                                </div>
                                <button type="submit" class="w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200">
                                    이메일 로그인
                                </button>
                            </form>
                        </div>
                        <button onclick="window.closeLoginModal()" class="w-full mt-3 py-2 text-gray-400 hover:text-gray-600 text-sm font-medium">닫기</button>
                    </div>
                </div>`;
                document.body.insertAdjacentHTML('beforeend', modalHTML);

                setTimeout(() => {
                    // Email Login Logic
                    const loginForm = document.getElementById('userLoginForm');
                    if (loginForm) {
                        loginForm.addEventListener('submit', async (e) => {
                            e.preventDefault();
                            const email = document.getElementById('userEmail').value;
                            const pw = document.getElementById('userPw').value;
                            const btn = loginForm.querySelector('button[type="submit"]');

                            try {
                                btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> 로그인 중...';
                                btn.disabled = true;
                                await signInWithEmailAndPassword(auth, email, pw);
                                window.closeLoginModal();
                            } catch (error) {
                                console.error(error);
                                alert("로그인 실패: 이메일 또는 비밀번호를 확인해주세요.");
                                btn.disabled = false;
                                btn.innerHTML = '이메일 로그인';
                            }
                        });
                    }

                    // Google Login Logic
                    const googleBtn = document.getElementById('googleLoginBtn');
                    if (googleBtn) {
                        googleBtn.addEventListener('click', async () => {
                            try {
                                const provider = new GoogleAuthProvider();
                                await signInWithPopup(auth, provider);
                                window.closeLoginModal();
                            } catch (error) {
                                console.error("Google Login Error:", error);
                                alert("구글 로그인 실패: " + error.message);
                            }
                        });
                    }
                }, 100);
            }
        };

        // Run Injection
        injectUI();

        // ==========================================
        // 2. Auth State Logic
        // ==========================================
        onAuthStateChanged(auth, (user) => {
            const applyBtn = document.getElementById('applyBtn');
            const enterBtn = document.getElementById('enterBtn');
            const logoutBtn = document.getElementById('heroLogoutBtn');

            if (user) {
                // Logged In
                if (applyBtn) applyBtn.classList.add('hidden');
                if (enterBtn) {
                    enterBtn.classList.remove('hidden');
                    enterBtn.title = user.email + "님 환영합니다";
                }
                if (logoutBtn) logoutBtn.classList.remove('hidden');
            } else {
                // Logged Out
                if (applyBtn) applyBtn.classList.remove('hidden');
                if (enterBtn) enterBtn.classList.add('hidden');
                if (logoutBtn) logoutBtn.classList.add('hidden');
            }
        });

        // Global Functions
        window.openLoginModal = () => document.getElementById('userLoginModal').classList.remove('hidden');
        window.closeLoginModal = () => document.getElementById('userLoginModal').classList.add('hidden');
        window.userLogout = () => {
            if (confirm("로그아웃 하시겠습니까?")) signOut(auth).then(() => window.location.reload());
        };

        // Notices
        window.loadNotices = async () => {
            const listContainer = document.getElementById('noticeList');
            if (!listContainer) return;
            listContainer.innerHTML = '<div class="text-center py-8 text-gray-400"><i class="fas fa-spinner fa-spin mb-2"></i><p>공지사항을 불러오는 중...</p></div>';
            try {
                const q = query(collection(db, "notices"), orderBy("date", "desc"));
                const querySnapshot = await getDocs(q);
                let html = '';
                if (querySnapshot.empty) {
                    html = '<div class="text-center py-8 text-gray-400"><p>등록된 공지사항이 없습니다.</p></div>';
                } else {
                    querySnapshot.forEach((doc) => {
                        const notice = doc.data();
                        const badgeClass = notice.type === '긴급' ? 'bg-red-50 text-red-600 border-red-100' : 'bg-blue-50 text-blue-600 border-blue-100';
                        html += `
                            <div class="bg-gray-50 rounded-xl p-5 border border-gray-200 hover:border-indigo-200 transition-colors">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="${badgeClass} px-2 py-0.5 rounded text-xs font-bold border">${notice.type}</span>
                                    <span class="text-gray-400 text-xs">${notice.date}</span>
                                </div>
                                <h4 class="font-bold text-gray-800 mb-2">${notice.title}</h4>
                                <p class="text-gray-600 text-sm leading-relaxed">${notice.content}</p>
                            </div>
                            `;
                    });
                }
                listContainer.innerHTML = html;
            } catch (error) {
                console.error("Error loading notices:", error);
                listContainer.innerHTML = '<div class="text-center py-8 text-red-400"><p>공지사항을 불러올 수 없습니다. 관리자에게 문의하세요.</p></div>';
            }
        };

        const noticeBtn = document.getElementById('noticeBtn');
        const noticeModal = document.getElementById('noticeModal');
        if (noticeBtn) {
            noticeBtn.addEventListener('click', () => {
                window.loadNotices();
                noticeModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            });
        }
        window.closeNoticeModal = () => {
            const modal = document.getElementById('noticeModal');
            if (modal) {
                modal.classList.add('hidden');
                document.body.style.overflow = '';
            }
        };

        // Auto-open login modal if ?apply=true is in URL
        window.addEventListener('load', () => {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('apply') === 'true') {
                setTimeout(() => window.openLoginModal(), 500);
            }

            // Load course intro PDF status
            loadCourseIntroPdf();
        });

        // ==========================================
        // Course Intro PDF Logic
        // ==========================================
        let courseIntroPdfUrl = null;

        async function loadCourseIntroPdf() {
            try {
                const courseIntroDoc = await getDoc(doc(db, "resources", "courseIntro"));

                if (courseIntroDoc.exists() && courseIntroDoc.data().url) {
                    courseIntroPdfUrl = courseIntroDoc.data().url;
                    const btn = document.getElementById('courseIntroBtn');
                    if (btn) {
                        btn.classList.remove('hidden');
                    }
                }
            } catch (error) {
                console.log("Course intro PDF not available:", error);
            }
        }

        window.openCourseIntroPdf = () => {
            if (courseIntroPdfUrl) {
                window.open(courseIntroPdfUrl, '_blank');
            } else {
                alert('과정 소개 PDF가 아직 업로드되지 않았습니다.');
            }
        };
    </script>
</body>

</html>